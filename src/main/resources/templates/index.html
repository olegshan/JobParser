<html layout:decorator="layout" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.w3.org/1999/xhtml">

<div layout:fragment="content">

    <div class="jobBlock" data-th-each="job : ${jobs}">
        <a th:href="${job.url}" target="_blank">
            <h2 class="title">
                <small data-th-text="${job.title}"></small>
            </h2>
        </a>
        <p data-th-text="${job.description}"></p>
        <div class="under">
            <span data-th-text="${job.dateToDisplay}"></span>
            <a th:href="@{?company=__${job.company}__}">
                <mark data-th-text="${job.company}"></mark>
            </a>
            <span data-th-text="${job.source}"></span>
        </div>
    </div>

    <div th:with="employer=${company} ? 'company=${company}' : ''" th:if="${jobs.getTotalPages() > 1}" class="text-center">
        <ul class="pagination">
            <li>
                <a th:if="not ${jobs.getNumber() == 0}" class="pageLink" th:href="@{/(page=1, __${employer}__)}">&laquo;</a>
            </li>
            <li>
                <a th:if="not ${jobs.getNumber() == 0}" class="pageLink"
                   th:href="@{/(page=${jobs.getNumber()}, __${employer}__)}">&larr;</a>
            </li>
            <li th:class="${jobs.getNumber() == (page - 1)} ? 'active pointer-disabled'"
                th:each="page : ${#numbers.sequence(pageBox.getFirstPage(), pageBox.getLastPage())}">
                <a class="pageLink" th:href="@{/(page=${page}, __${employer}__)}" th:text="${page}"></a>
            </li>
            <li>
                <a th:if="not ${jobs.getNumber() + 1 == jobs.getTotalPages()}" class="pageLink"
                   th:href="@{/(page=${jobs.getNumber() + 2}, __${employer}__)}">&rarr;</a>
            </li>
            <li>
                <a th:if="not ${jobs.getNumber() + 1 == jobs.getTotalPages()}" class="pageLink"
                   th:href="@{/(page=${jobs.getTotalPages()}, __${employer}__)}">&raquo;</a>
            </li>
        </ul>
    </div>

    <div class="footer">
        <p>
            &copy; 2016 <a href="https://github.com/olegshan/JobParser" target="_blank">olegshan</a>.
            <a href="/about">About jParser</a>
        </p>
    </div>

</div>

</html>